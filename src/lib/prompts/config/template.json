{
  "template": "Translate the following {fromLanguage} story to {toLanguage}, adapted for {difficulty} CEFR level:\n\nInstructions:\n{instructions}\n\nSpecific {toLanguage} Guidelines:\n{languageInstructions}\n\n{nativeToTargetInstructions}\n\n{fromLanguage} Story:\n{text}\n\nRESPONSE FORMAT:\nReturn a JSON object with the following structure:\n{\n  \"translation\": \"<full translated {toLanguage} story text>\",\n  \"tokens\": [\n    {\n      \"type\": \"word\",\n      \"to_word\": \"<word from the translated {toLanguage} story>\",\n      \"to_lemma\": \"<lemma/base form of the {toLanguage} word - must be a single word, not a phrase>\",\n      \"from_word\": \"<corresponding word from the original {fromLanguage} story>\",\n      \"from_lemma\": \"<lemma/base form of the original {fromLanguage} word - must be a single word, not a phrase>\",\n      \"pos\": \"<part of speech: noun|verb|adjective|adverb|pronoun|preposition|conjunction|interjection|article|determiner|other>\",\n      \"difficulty\": \"<CEFR level: A1|A2|B1|B2|C1|C2>\",\n      \"from_definition\": \"<context-appropriate definition written in {fromLanguage} language explaining the {fromLanguage} word based on how it's used in THIS SPECIFIC CONTEXT>\"\n    },\n    {\n      \"type\": \"punctuation\",\n      \"value\": \"<punctuation mark: period, comma, question mark, exclamation mark, quotation mark, semicolon, colon, dash, etc.>\"\n    },\n    {\n      \"type\": \"whitespace\",\n      \"value\": \"<whitespace character: space, tab, newline, etc.>\"\n    }\n  ]\n}\n\nCRITICAL REQUIREMENTS:\n- The 'tokens' array must include EVERY element from the TRANSLATED {toLanguage} story: all words, punctuation marks, and whitespace\n- Each element is one of three types:\n  * \"word\" - for all words (nouns, verbs, adjectives, adverbs, articles, pronouns, prepositions, conjunctions, etc.)\n  * \"punctuation\" - for punctuation marks ONLY (periods, commas, question marks, exclamation marks, quotation marks, semicolons, colons, dashes, parentheses, etc.)\n  * \"whitespace\" - for whitespace characters ONLY (spaces, tabs, newlines, etc.)\n- If a word appears multiple times in the story, include a separate word object for EACH occurrence\n- Each duplicate word entry must have a context-specific definition based on how it's used at that particular position in the story\n- Maintain exact token order matching the translated story from first character to last\n- The 'from_definition' must be written in {fromLanguage} language (the user's native language) so they can easily understand the definition\n- The 'from_definition' should define the {fromLanguage} word as it's specifically used in this context (e.g., \"correr\" in Spanish meaning \"dirigir un negocio\" vs \"correr una carrera\" should have different definitions)\n- Each word object represents a single word occurrence from the translated story, not the original\n- The 'to_word' is the SOURCE OF TRUTH for meaning, tense, aspect, number, gender, and usage. All metadata must align to how the 'to_word' is used in the translated sentence\n- The 'from_word' and 'from_definition' MUST be derived to match the exact sense and tense/aspect of the 'to_word' as used in the translated {toLanguage} sentence, EVEN IF this differs from the original {fromLanguage} text\n- If the original {fromLanguage} text uses a different tense/aspect/number than the final translated 'to_word', ADJUST 'from_word' and 'from_definition' to align with the 'to_word'. Example: If the translated token is present tense \"ama\" (she loves), 'from_word' should be \"loves\" (present), not \"loved\" (past)\n- Use standard part-of-speech tags based on the {toLanguage} word's function in the sentence\n- Assign difficulty levels based on the {toLanguage} word complexity and CEFR standards\n- Both 'to_lemma' and 'from_lemma' must be single words only - never return multi-word phrases as lemmas\n- When reconstructing the story by concatenating all tokens in order, it must exactly match the 'translation' field\n- Return ONLY valid JSON, no additional text or markdown formatting",
  "vocabularySection": "\n\nLearner Vocabulary Focus:\nPlease include and naturally use the following target-language words when appropriate in the translation, matching {difficulty} level:\n{vocabList}\n"
}
